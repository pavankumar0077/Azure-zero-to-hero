## IAM

![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/a31dfaa9-e36f-4041-b3d8-407a64b9f0d9)

## AUTHENTICATION
- PEOPLE WITH VALID ID OR VALID ACCOUNT
- USERS AND GROUPS

## AUTHORIZATION
- AUTHORIZATION IS IMP THING WHICH IS VERIFYING IF SOFTWARE ENGINEER IS ALLOWED TO OR AUTHORIZED TO ACCESS THE DATA CENTER OR NETWORK ENGINEER IS AUTHORIZED TO ACCESS THE CAFETERIA.
-  LET'S SAY FOR EXAMPLE IF DEV'S, NEED TO CREATE A VM we will give access to CREATE IT BUT NOT DELETE IT, IF manager need to see how all the resources then we will give READ ACCESS.
-  ROLES ( DEV, QA, MANAGER )
-  IF DEV THEN WE HAVE READ_ONLY ROLE
-  QA - ACCESS VM ROLE
-  these are examples.

## SERVICE USED TO CREATE IAM 
- **MICROSOFT ENTRA ID** (MICROSOFT ENTRA IS DIFFERENT)
- PERVIOUSLY CALLED AS **( AZURE ACTIVE DIRECTORY )**

## CREATE A NEW USER

![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/56238abd-cef4-41a4-b2ed-2a8745642723)

-- SEARCH FOR MICROSOFT ENTRA ID
- ![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/5fe2ab0d-cbb0-45f9-bc4e-c6375b255342)
-  ![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/2b519c27-5d2a-4e79-9a56-6d62fa9e91ec)
- ![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/f6666a71-d39b-4b17-94c3-1feaf1878a2c)
- ![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/1f985a87-2cbc-4272-9405-d2fd9dc1bd1d)
- ABOVE ARE THE DEFAULT ROULES THAT MICROSOFT CREATED FOR US, IF WE DON'T WANT DEFAULT ROLES THEN WE CAN CREATE OUR OWN ROLES
- ![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/3bd8a9cd-7d53-4505-a93e-382ce1a93ed3)
- ![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/f044d50d-8297-4506-bef8-87d68bd76a92)
- HERE WE CAN CREATE A CUSTOM ROLE LIKE DEVOPS ENGINEER, QA and etc, FOR THE WE NEED TO TAKE PERMIUM IT HAS TRIAL OF 30 DAYS AS WELL.


 ## GROUPS 
 - GROUPS ARE NOTHING BUT IF WE HAVE 100 OF USERS IN AZURE WE WILL GROUP THEM ACCORDING TO THEIR DESTINATIONS LIKE DEVELOPERS, TESTERS AND ETC.
 - AND ATTACH ROLES OR POLICIES TO THEM LIKE COMPLETE DEV GROUP WILL HAVE ONLY READ ACCESS LIKE THAT.

## IF A SERVICE WANTS TO TALK TO ANOTHER SERVICE 
## WE USE SERVICE PRINCIPAL AND MANAGED IDENTITY

![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/6a098ee2-0e1b-4ffd-ac3d-88be9366540f)

- LIKE USER HAVE ROLES
- FOR RESOURCES WE HAVE A ROLES TO ACCESS OTHER RESOURCES LIKE VM TO ACCESS STORAGE ACCOUNT - BLOB BY USING SERVICE PRINICIPAL OR MANAGED IDENTITY


## DIFFERENCE BETWEEN SERVICE PRINCIPAL && MANAGED IDENTITY 

![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/c41b1fda-d557-4705-9b10-fbb60f912585)

### SERVICE PRINCIPAL
- WHETHER YOU ARE USING SERVICE PRINCIPAL OR MANAGED IDENTITY UNDERLYING AZURE IS GOING TO CREATE A SERVICE PRINCIPAL
- IF WE CREATE SERVICE PRINCIPAL - WE HAVE TO ROTATE - ACCESS KEYS -- SO WE HAVE TO MAINTAIN SOME SECURITY STANDARDS
- JUST LIKE SSL CERTIFICATES - WE WANT TO ROTATED IN 90 DAYS, 270 DAYS LIKE THAT
- AS A DEVOPS ENGINEER YOU WANT TO MAINTAIN THE SERVICE PRINCIPLE YOU WANT TO IT IS TIMELY ROTATED, KEPT IN A SENSITIVE WAY THEY ARE SECURE ENOUGHT THAT NOBODY GETS ACCESS TO IT

### MANAGED IDENTITY
- ALL THE ABOVE THINGS WILL BE TAKE CARE BY AZURE
- IT WILL ROTATE & AZURE WILL TAKE CARE ABOUT THE SECURITY
- IT IS BETTER TO USE MANAGED IDENTITY IN MOST OF THE CASES.

## EXAMPLE - VM -- SHOULD ACCESS FILE FROM BLOB CONTAINER STORAGE
![image](https://github.com/pavankumar0077/Azure-zero-to-hero/assets/40380941/194f64d7-5ddf-4df5-bdcb-7389a95ddd18)

